# React로 사고하기
🔗 https://react.dev/learn/thinking-in-react

## Step 1. UI를 컴포넌트 계층으로 분리하기
- 단일책임원칙(Single Responsibility Principle)에 따라 한 컴포넌트는 하나의 일을 담당한다.
- 컴포넌트들의 위계를 정렬한다. 즉, 한 요소가 다른 요소 내에 존재한다면 자식 컴포넌트이다.
- ex.
    - FilterableProductTable
        - SearchBar
        - ProductTable
            - ProductCategoryRow
            - ProductRow

## Step 2. React로 정적인 버전 만들기
- 정적인 버전을 만들어 놓고 상호작용 요소를 추가하는 것이 편하다.
- 부모로부터 자식으로 정보를 전달하고자 할 때 `props`를 사용한다.
- 이 단계에서 `state`는 사용하지 않는다. 
- Top-Down: 가장 위계가 높은 컴포넌트부터 작성 (ex. FilterableProductTable)
- Bottom-Up: 가장 위계가 낮은 컴포넌트부터 작성 (ex. ProductRow)
- 대규모 프로젝트에서는 `bottom-up`, 작은 규모의 프로젝트에서는 `top-down`이 바람직하다.
- 단방향 데이터 흐름: React에서는 데이터가 부모로부터 자식의 방향으로만 흐른다.

## Step 3. 최소지만 완전한 데이터만 사용해서 UI 상태 표현하기
- DRY(Don't Repeat Yourself)에 따라 필요한 `state`를 가장 작은 단위로 관리한다.
- 다른 데이터는 on-demand로 계산한다.
- ex. 쇼핑 리스트를 배열 형태로 `state`에 저장했다면, 요소들의 개수가 필요할 때 따로 상태를 생성하지 않고 배열의 길이를 구한다.
- 다음과 같은 것들은 `state`가 되지 못한다.
    - 시간이 지나도 변하지 않는 것
    - 부모로부터 `props`로 전달된 것
    - 컴포넌트 내의 데이터들로 계산 가능한 것

## Step 4. 상태가 존재 가능한 범위를 결정하기
- 어느 컴포넌트가 상태를 소유할지, 즉 상태 변경에 책임이 있는 컴포넌트를 결정해야 한다.
1. 그 상태를 사용하는 모든 컴포넌트를 확인한다.
2. 그 컴포넌트들의 가장 가까운 부모 컴포넌트를 찾는다.
3. 다음 세 가지 중에 해당하는 곳에 상태를 저장한다.
    - 2번의 부모 컴포넌트
    - 그 부모 컴포넌트의 상위 컴포넌트
    - 이 상태 정보만을 갖는 새로운 컴포넌트를 생성해 상위 계층에 추가

## Step 5. 데이터의 역 흐름 추가하기
- 데이터의 양방향 바인딩을 위해서는 `setState` 함수를 `props`로 자식 컴포넌트에 전달한다.
- 자식 컴포넌트에서 전달받은 함수를 호출함으로써 부모 컴포넌트의 상태값을 변경할 수 있다.


